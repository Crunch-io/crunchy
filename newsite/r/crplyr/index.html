<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A 'dplyr' Interface for Crunch • crplyr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="A 'dplyr' Interface for Crunch">
<meta property="og:description" content="In order to facilitate analysis of datasets hosted on the Crunch
    data platform &lt;http://crunch.io/&gt;, the 'crplyr' package implements 'dplyr'
    methods on top of the Crunch backend. The usual methods 'select', 'filter',
    'group_by', 'summarize', and 'collect' are implemented in such a way as to
    perform as much computation on the server and pull as little data locally
    as possible.">
<meta property="og:image" content="https://crunch.io/r/crplyr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-50332119-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-50332119-2');
</script>
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">crplyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/">Reference</a>
</li>
<li>
  <a href="news/">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/plotting.html">Plotting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Crunch-io/crplyr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="crplyr-a-dplyr-interface-for-crunch" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#crplyr-a-dplyr-interface-for-crunch" class="anchor"></a>crplyr: A ‘dplyr’ Interface for Crunch</h1></div>

<p><a href="https://dplyr.tidyverse.org/">dplyr</a> defines “a grammar of data manipulation” popular among R users. In order to facilitate analysis of datasets hosted by Crunch, this package implements ‘dplyr’ methods on top of the Crunch backend. The usual methods “select”, “filter”, “group_by”, “summarize”, and “collect” are implemented in such a way as to perform as much computation on the server and pull as little data locally as possible.</p>
<p>With a local <code>data.frame</code>, you might chain together a series of manipulations and create a table, such as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(mtcars)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>mtcars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">    </span><span class="kw"><a href="reference/filter.html">filter</a></span>(vs <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="reference/group_by.html">group_by</a></span>(gear) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="reference/summarize.html">summarize</a></span>(<span class="dt">horses=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(hp), <span class="dt">sd_horses=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/sd">sd</a></span>(hp), <span class="dt">count=</span><span class="kw">n</span>())</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">## # A tibble: 3 × 4</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">##    gear horses sd_horses count</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">##   &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">## 1     3  104.0  6.557439     3</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">## 2     4   85.4 26.596575    10</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">## 3     5  113.0        NA     1</a></code></pre></div>
<p>With <code>crplyr</code>, you can do the same operations, except that the dataset you’re working with sits in the Crunch platform, and Crunch is doing the aggregations in the cloud:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(crplyr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="op">&gt;</span><span class="st"> </span><span class="kw">login</span>()</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">[crunch] <span class="op">&gt;</span><span class="st"> </span>mtcars &lt;-<span class="st"> </span><span class="kw">loadDataset</span>(<span class="st">"mtcars from R"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">[crunch] <span class="op">&gt;</span><span class="st"> </span>mtcars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="reference/filter.html">filter</a></span>(vs <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="reference/group_by.html">group_by</a></span>(gear) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="reference/summarize.html">summarize</a></span>(<span class="dt">horses=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(hp), <span class="dt">sd_horses=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/sd">sd</a></span>(hp), <span class="dt">count=</span><span class="kw">n</span>())</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">## # A tibble: 3 × 4</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">##    gear horses sd_horses count</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">##  &lt;fctr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">## 1     3  104.0  6.557439     3</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">## 2     4   85.4 26.596575    10</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">## 3     5  113.0        NA     1</a></code></pre></div>
<p>Obviously, the fact that the calculations in <code>crplyr</code> are happening remotely doesn’t matter as much when working with a tiny dataset like “mtcars”, but Crunch allows you to work with datasets larger than can fit in memory on your machine, and it enables you to collaborate naturally with others on the same dataset.</p>
<div id="installing" class="section level2">
<h2 class="hasAnchor">
<a href="#installing" class="anchor"></a>Installing</h2>
<p>Install the CRAN release of <code>crplyr</code> with</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"crplyr"</span>)</a></code></pre></div>
<p>The pre-release version of the package can be pulled from GitHub using the <a href="https://remotes.r-lib.org/">remotes</a> package:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"Crunch-io/crplyr"</span>)</a></code></pre></div>
</div>
<div id="for-developers" class="section level2">
<h2 class="hasAnchor">
<a href="#for-developers" class="anchor"></a>For developers</h2>
<p>The repository includes a Makefile to facilitate some common tasks, if you’re into that sort of thing.</p>
<div id="running-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#running-tests" class="anchor"></a>Running tests</h3>
<p><code>$ make test</code>. Requires the <a href="https://enpiar.com/r/httptest/">httptest</a> package. You can also specify a specific test file or files to run by adding a “file=” argument, like <code>$ make test file=select</code>. <code>test_package</code> will do a regular-expression pattern match within the file names. See its documentation in the <a href="https://testthat.r-lib.org/">testthat</a> package.</p>
</div>
<div id="updating-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#updating-documentation" class="anchor"></a>Updating documentation</h3>
<p><code>$ make doc</code>. Requires the <a href="https://github.com/klutometis/roxygen">roxygen2</a> package.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=crplyr">https://​cloud.r-project.org/​package=crplyr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/Crunch-io/crplyr">https://​github.com/​Crunch-io/​crplyr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Crunch-io/crplyr/issues">https://​github.com/​Crunch-io/​crplyr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>LGPL (&gt;= 3)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Neal Richardson <br><small class="roles"> Author </small>  </li>
<li>Jonathan Keane <br><small class="roles"> Author </small>  </li>
<li>Gordon Shotwell <br><small class="roles"> Author </small>  </li>
<li>Mike Malecki <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/Crunch-io/crplyr"><img src="https://travis-ci.org/Crunch-io/crplyr.png?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/Crunch-io/crplyr"><img src="https://codecov.io/gh/Crunch-io/crplyr/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://ci.appveyor.com/project/nealrichardson/crplyr/branch/master"><img src="https://ci.appveyor.com/api/projects/status/wjc1inaakamltdq1/branch/master?svg=true" alt="Build status"></a></li>
<li><a href="https://cran.r-project.org/package=crplyr"><img src="https://www.r-pkg.org/badges/version-last-release/crplyr" alt="cran"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Neal Richardson, Jonathan Keane, Gordon Shotwell, Mike Malecki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
