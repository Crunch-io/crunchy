<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A dplyr Interface for Crunch • crplyr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="A dplyr Interface for Crunch">
<meta property="og:description" content="In order to facilitate analysis of datasets hosted on the Crunch
    data platform &lt;https://crunch.io/&gt;, the crplyr package implements dplyr
    methods on top of the Crunch backend. The usual methods select, filter,
    group_by, summarize, and collect are implemented in such a way as to
    perform as much computation on the server and pull as little data locally
    as possible.">
<meta property="og:image" content="https://crunch.io/r/crplyr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-50332119-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-50332119-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">crplyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/">Reference</a>
</li>
<li>
  <a href="news/">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/plotting.html">Plotting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Crunch-io/crplyr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="crplyr-a-dplyr-interface-for-crunch" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#crplyr-a-dplyr-interface-for-crunch" class="anchor"></a>crplyr: A ‘dplyr’ Interface for Crunch</h1></div>
<!-- badges: start -->

<p><a href="https://dplyr.tidyverse.org/">dplyr</a> defines “a grammar of data manipulation” popular among R users. In order to facilitate analysis of datasets hosted by Crunch, this package implements ‘dplyr’ methods on top of the Crunch backend. The usual methods “select”, “filter”, “group_by”, “summarize”, and “collect” are implemented in such a way as to perform as much computation on the server and pull as little data locally as possible.</p>
<p>With a local <code>data.frame</code>, you might chain together a series of manipulations and create a table, such as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">data</span>(mtcars)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="op">&gt;</span><span class="st"> </span>mtcars <span class="op">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="st">    </span><span class="kw">filter</span>(vs <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="st">    </span><span class="kw">group_by</span>(gear) <span class="op">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">horses=</span><span class="kw">mean</span>(hp), <span class="dt">sd_horses=</span><span class="kw">sd</span>(hp), <span class="dt">count=</span><span class="kw">n</span>())</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">## # A tibble: 3 × 4</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">##    gear horses sd_horses count</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">##   &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">## 1     3  104.0  6.557439     3</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">## 2     4   85.4 26.596575    10</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">## 3     5  113.0        NA     1</span></span></code></pre></div>
<p>With <code>crplyr</code>, you can do the same operations, except that the dataset you’re working with sits in the Crunch platform, and Crunch is doing the aggregations in the cloud:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">library</span>(crplyr)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">login</span>()</span>
<span id="cb2-3"><a href="#cb2-3"></a>[crunch] <span class="op">&gt;</span><span class="st"> </span>mtcars &lt;-<span class="st"> </span><span class="kw">loadDataset</span>(<span class="st">"mtcars from R"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>[crunch] <span class="op">&gt;</span><span class="st"> </span>mtcars <span class="op">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">    </span><span class="kw">filter</span>(vs <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="st">    </span><span class="kw">group_by</span>(gear) <span class="op">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">horses=</span><span class="kw">mean</span>(hp), <span class="dt">sd_horses=</span><span class="kw">sd</span>(hp), <span class="dt">count=</span><span class="kw">n</span>())</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">## # A tibble: 3 × 4</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">##    gear horses sd_horses count</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">##  &lt;fctr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">## 1     3  104.0  6.557439     3</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">## 2     4   85.4 26.596575    10</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">## 3     5  113.0        NA     1</span></span></code></pre></div>
<p>Obviously, the fact that the calculations in <code>crplyr</code> are happening remotely doesn’t matter as much when working with a tiny dataset like “mtcars”, but Crunch allows you to work with datasets larger than can fit in memory on your machine, and it enables you to collaborate naturally with others on the same dataset.</p>
<div id="installing" class="section level2">
<h2 class="hasAnchor">
<a href="#installing" class="anchor"></a>Installing</h2>
<p>Install the CRAN release of <code>crplyr</code> with</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">install.packages</span>(<span class="st">"crplyr"</span>)</span></code></pre></div>
<p>The pre-release version of the package can be pulled from GitHub using the <a href="https://remotes.r-lib.org/">remotes</a> package:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"Crunch-io/crplyr"</span>)</span></code></pre></div>
</div>
<div id="for-developers" class="section level2">
<h2 class="hasAnchor">
<a href="#for-developers" class="anchor"></a>For developers</h2>
<p>The repository includes a Makefile to facilitate some common tasks, if you’re into that sort of thing.</p>
<div id="running-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#running-tests" class="anchor"></a>Running tests</h3>
<p><code>$ make test</code>. Requires the <a href="https://enpiar.com/r/httptest/">httptest</a> package. You can also specify a specific test file or files to run by adding a “file=” argument, like <code>$ make test file=select</code>. <code>test_package</code> will do a regular-expression pattern match within the file names. See its documentation in the <a href="https://testthat.r-lib.org/">testthat</a> package.</p>
</div>
<div id="updating-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#updating-documentation" class="anchor"></a>Updating documentation</h3>
<p><code>$ make doc</code>. Requires the <a href="https://github.com/r-lib/roxygen2">roxygen2</a> package.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=crplyr">https://​cloud.r-project.org/​package=crplyr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/Crunch-io/crplyr/">https://​github.com/​Crunch-io/​crplyr/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Crunch-io/crplyr/issues">https://​github.com/​Crunch-io/​crplyr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>LGPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Greg Freedman Ellis <br><small class="roles"> Author, maintainer </small>  </li>
<li>Jonathan Keane <br><small class="roles"> Author </small>  </li>
<li>Neal Richardson <br><small class="roles"> Author </small>  </li>
<li>Mike Malecki <br><small class="roles"> Author </small>  </li>
<li>Gordon Shotwell <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Crunch-io/crplyr/actions"><img src="https://github.com/Crunch-io/crplyr/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/Crunch-io/crplyr"><img src="https://codecov.io/gh/Crunch-io/crplyr/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://cran.r-project.org/package=crplyr"><img src="https://www.r-pkg.org/badges/version-last-release/crplyr" alt="cran"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Greg Freedman Ellis, Jonathan Keane, Neal Richardson, Mike Malecki, Gordon Shotwell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
