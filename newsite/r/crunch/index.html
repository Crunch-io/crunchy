<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crunch.io Data Tools • Crunch</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Crunch.io Data Tools">
<meta property="og:description" content="The Crunch.io service &lt;http://crunch.io/&gt; provides a cloud-based
    data store and analytic engine, as well as an intuitive web interface.
    Using this package, analysts can interact with and manipulate Crunch
    datasets from within R. Importantly, this allows technical researchers to
    collaborate naturally with team members, managers, and clients who prefer a
    point-and-click interface.">
<meta property="og:image" content="http://crunch.io/r/crunch/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-50332119-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-50332119-2');
</script>
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Crunch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.26.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/crunch.html">Intro</a>
</li>
<li>
  <a href="reference/">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/crunch.html">Getting Started</a>
    </li>
    <li>
      <a href="articles/variables.html">Variables</a>
    </li>
    <li>
      <a href="articles/array-variables.html">Array Variables</a>
    </li>
    <li>
      <a href="articles/variable-order.html">Organize Variables</a>
    </li>
    <li>
      <a href="articles/derive.html">Derive Variables</a>
    </li>
    <li>
      <a href="articles/analyze.html">Analyze Data</a>
    </li>
    <li>
      <a href="articles/filters.html">Filter Data</a>
    </li>
    <li>
      <a href="articles/export.html">Export Data</a>
    </li>
    <li>
      <a href="articles/projects.html">Projects</a>
    </li>
    <li>
      <a href="articles/fork-and-merge.html">Fork and Merge</a>
    </li>
    <li>
      <a href="articles/subtotals.html">Subtotals and Headings</a>
    </li>
    <li>
      <a href="articles/crunch-internals.html">Crunch Internals</a>
    </li>
    <li>
      <a href="articles/abstract-categories.html">Abstract Categories</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Crunch-io/rcrunch">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="crunch" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#crunch" class="anchor"></a>crunch</h1></div>

<p><a href="http://crunch-io.github.io/rcrunch/">Cloud Collaboration with Crunch</a></p>
<p><a href="http://crunch.io/">Crunch.io</a> provides a cloud-based data store and analytic engine. It has a <a href="https://app.crunch.io/">web client</a> for interactive data exploration and visualization. The <strong>crunch</strong> package for R allows analysts to interact with and manipulate Crunch datasets from within R. Importantly, this allows technical researchers to collaborate naturally with team members, managers, and clients who prefer a point-and-click interface: because all connect to the same dataset in the cloud, there is no need to email files back and forth continually to share results.</p>
<p><a href="mailto:rcrunch+subscribe@crunch.io">Subscribe to the mailing list</a> to receive notification of releases and to ask general support questions.</p>
<div id="installing" class="section level2">
<h2 class="hasAnchor">
<a href="#installing" class="anchor"></a>Installing</h2>
<p><code>crunch</code> can be installed from CRAN with</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"crunch"</span>)</a></code></pre></div>
<p>The pre-release version of the package can be pulled from GitHub using the <a href="https://github.com/r-lib/remotes"><code>remotes</code></a> package (part of <code>devtools</code>):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">"Crunch-io/rcrunch"</span>)</a></code></pre></div>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p>Connecting to Crunch and working with datasets is simple: load the <code>crunch</code> package and then <code><a href="reference/login.html">login()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="op">$</span><span class="st"> </span>R</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(crunch)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="reference/login.html">login</a></span>(<span class="st">"jane.r_user@crunch.io"</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">Crunch password <span class="cf">for</span> jane.r_user<span class="op">@</span>crunch.io<span class="op">:</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">You are now logged into Crunch as jane.r_user<span class="op">@</span>crunch.io</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">[crunch] <span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">...</a></code></pre></div>
<p>If you use OAuth to log into the web application, you’ll need to create a Crunch password to use with the R package. To set one, load the package, call <code><a href="reference/resetPassword.html">resetPassword("your.email@example.com")</a></code>, and check your email for instructions. You may need to log out of your current web app session before you click the link in that email to set your Crunch password.</p>
<p>Once you’ve logged in, check out <code><a href="reference/listDatasets.html">listDatasets()</a></code> to see the names of your existing datasets, which you can load like <code>ds &lt;- loadDataset("The name of my dataset")</code>. New Crunch datasets can be made from a <code>data.frame</code>, a .csv or .sav file, or a URL to a file with <code><a href="reference/newDataset.html">newDataset()</a></code>. See the help for these functions or <a href="https://crunch.io/r/crunch/articles/crunch.html"><code><a href="articles/crunch.html">vignette("crunch")</a></code></a> for more information.</p>
</div>
<div id="additional-configuration" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-configuration" class="anchor"></a>Additional configuration</h2>
<p>You can set several parameters in your .Rprofile to simplify your workflow:</p>
<ul>
<li>
<code>crunch.email</code> and <code>crunch.pw</code>: you can save your Crunch credentials so that you don’t have to enter them each time. I.e., you can just <code>&gt; login()</code>. Please be advised of the risks of storing your password like this. See <code><a href="reference/login.html">?login</a></code> for more information. Also, note that you can opt to store just your <code>crunch.email</code> and enter your password each time you log in–a mix of convenience and security.</li>
<li>
<code>crunch.api</code>: if not defined, it defaults to “<code>https://app.crunch.io/api/</code>”, the production server. To specify a different location, either set it in your .Rprofile or after loading the <code>crunch</code> package, do <code>&gt; options(crunch.api="https://otherapi.crunch.io/api/")</code>.</li>
</ul>
<p>If you prefer, you can set the environment variables <code>R_CRUNCH_EMAIL</code>, <code>R_CRUNCH_PW</code>, and <code>R_CRUNCH_API</code>.</p>
</div>
<div id="for-developers" class="section level2">
<h2 class="hasAnchor">
<a href="#for-developers" class="anchor"></a>For developers</h2>
<p><code>crunch</code> requires R version 3.0 or greater. Note that if you’re on Ubuntu, particularly older versions, you’ll need to add an alternative PPA before trying to <code>apt-get install</code> R. For 12.04 Precise, for example,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># echo "deb http://cran.r-project.org/bin/linux/ubuntu precise/" &gt;&gt; /etc/apt/sources.list</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co"># apt-get update</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># apt-get install libcurl4-openssl-dev</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co"># sudo apt-get install r-base r-base-dev</span></a></code></pre></div>
<p>See <a href="https://cran.r-project.org/bin/linux/ubuntu/README" class="uri">https://cran.r-project.org/bin/linux/ubuntu/README</a> for more details.</p>
<div id="git-hooks" class="section level3">
<h3 class="hasAnchor">
<a href="#git-hooks" class="anchor"></a>Git hooks</h3>
<p><code>crunch</code> uses a git pre-commit hook to ensure that the cube test fixtures in <code>inst/cubes.tgz</code> are always up to date. To enable this, you should either copy <code>hooks/pre-commit</code> to <code>.git/hooks/pre-commit</code> or sym-link the entire hooks directory with <code>ln -s ../hooks/ .git/hooks</code>.</p>
</div>
<div id="contributing" class="section level3">
<h3 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h3>
<p>See the <a href="CONTRIBUTING.html">contribution guidelines</a>.</p>
</div>
<div id="installing-from-a-local-checkout" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-from-a-local-checkout" class="anchor"></a>Installing from a local checkout</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># make deps</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># make test</span></a></code></pre></div>
<p>This installs dependencies and then runs the tests, which installs <code>crunch</code> from your local checkout in the process. If the dependencies fail to install, check the error message. You may need to install <code>libcurl</code> on your system before installing the R packages.</p>
</div>
<div id="running-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#running-tests" class="anchor"></a>Running tests</h3>
<p>You can run tests in an interactive session, or from the command line, <code>$ make test</code> is all you need. Requires the <a href="https://github.com/nealrichardson/httptest"><code>httptest</code></a> package for R. You can also specify a specific test file or files to run by adding a “file=” argument, like <code>$ make test file=auth</code>. <code>test_package</code> will do a regular-expression pattern match within the file names. See its documentation in the <a href="http://testthat.r-lib.org/"><code>testthat</code></a> package.</p>
<p>Testing has two options: unit tests only, and tests that communicate with an API server. This is governed by an environment variable, <code>INTEGRATION</code>, which is false by default, meaning that API integration tests are not run. To modify this and test against the Crunch API, you can run <code>$ make test INTEGRATION=TRUE</code>.</p>
<p>To run integration tests, you will need to specify a test user, password, and API server to communicate with, either by setting <code>test.user</code>, <code>test.pw</code>, and <code>test.api</code> in your <code>.Rprofile</code>, as in:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="dt">test.user=</span><span class="st">"magic.testuser@crunch.io"</span>,</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    <span class="dt">test.pw=</span><span class="st">"t0pSecretP@ssw0rD"</span>,</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="dt">test.api=</span><span class="st">"https://app.crunch.io/api/"</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">)</a></code></pre></div>
<p>or by setting the environment variables <code>R_TEST_USER</code>, <code>R_TEST_PW</code>, and <code>R_TEST_API</code>.</p>
<p>If you are a Crunch developer serving a version of the API/backend with Vagrant, you will have best results if your R_TEST_API/test.api (1) is <code>local.crunch.io</code>, thanks to a mapping of localhost to that in your hosts file, and (2) you use http rather than https in order to avoid certificate errors. You might point at “<a href="http://local.crunch.io:8080/api/" class="uri">http://local.crunch.io:8080/api/</a>”, for example. Some tests that cannot run successfully in the Vagrant environment will be skipped when run against a local.crunch.io URL.</p>
</div>
<div id="updating-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#updating-documentation" class="anchor"></a>Updating documentation</h3>
<p>Run <code>$ make doc</code>. Requires the <code>roxygen2</code> package.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=crunch">https://​cloud.r-project.org/​package=crunch</a>
</li>
<li>Browse source code at <br><a href="https://github.com/Crunch-io/rcrunch">https://​github.com/​Crunch-io/​rcrunch</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Crunch-io/rcrunch/issues">https://​github.com/​Crunch-io/​rcrunch/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>LGPL (&gt;= 3)</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Neal Richardson <br><small class="roles"> Author </small>  </li>
<li>Jonathan Keane <br><small class="roles"> Author </small>  </li>
<li>Gordon Shotwell <br><small class="roles"> Author </small>  </li>
<li>Mike Malecki <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/Crunch-io/rcrunch"><img src="https://travis-ci.org/Crunch-io/rcrunch.png?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/nealrichardson/rcrunch/branch/master"><img src="https://ci.appveyor.com/api/projects/status/iaydo4y3dfrqnqqu/branch/master?svg=true" alt="Build status"></a></li>
<li><a href="https://cran.r-project.org/package=crunch"><img src="https://www.r-pkg.org/badges/version-last-release/crunch" alt="cran"></a></li>
<li><a href="https://codecov.io/gh/Crunch-io/rcrunch"><img src="https://codecov.io/gh/Crunch-io/rcrunch/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Neal Richardson, Jonathan Keane, Gordon Shotwell, Mike Malecki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '9fbcb3ae4d05600402e31f66b9b9501e',
    indexName: 'crunch',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
