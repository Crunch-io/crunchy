<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Comparisons &#8212; API Docs 0.4.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/crunch.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/crunch.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Datasets" href="endpoint-dataset.html" />
    <link rel="prev" title="Boxdata" href="endpoint-boxdata.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/logo.svg"></span>
          API Docs</a>
        <span class="navbar-text navbar-version pull-left"><b>0.4.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            

    <li><a href="http://status.crunch.io/">Status</a></li>


            
              
                
  <li>
    <a href="endpoint-boxdata.html" title="Previous Chapter: Boxdata"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Boxdata</span>
    </a>
  </li>
  <li>
    <a href="endpoint-dataset.html" title="Next Chapter: Datasets"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Datasets &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form><ul class="sidebar-toc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../feature-guide/index.html">Feature Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Endpoint Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="endpoint-public.html">Public</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-account.html">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-batch.html">Batches</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-boxdata.html">Boxdata</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Comparisons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#entity">Entity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cube">Cube</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#catalog">Catalog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-catalog">GET catalog</a></li>
<li class="toctree-l4"><a class="reference internal" href="#patch-catalog">PATCH catalog</a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-catalog">POST catalog</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-dataset.html">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html">Decks</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html#slides">Slides</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html#analysis">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-filter.html">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html">Variable Folders</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#root">Root</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#subfolder-endpoint">Subfolder endpoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#folder-payload">Folder payload</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#creating-folders">Creating folders</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#moving-folders-and-variables">Moving folders and variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#reordering-a-folder-s-contents">Reordering a folder‚Äôs contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#deleting-folders">Deleting folders</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#trash">Trash</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html#hidden">Hidden</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-geodata.html">Geodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-join.html">Joins</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-multitable.html">Multitables</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-permission.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-progress.html">Progress</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-projects.html">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-search.html">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-source.html">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-tabbook.html">Tab books</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-table.html">Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-team.html">Teams</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-user.html">Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-variable.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-version.html">Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-xlsx.html">Xlsx</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../object-reference/object-reference.html">Object Reference</a></li>
</ul>
</ul><ul class="toc-footer">
  <li><a href="http://crunch.io/">Sign Up</a></li>
</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="comparisons">
<h1>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline"> üîó</a></h1>
<div class="section" id="entity">
<h2>Entity<a class="headerlink" href="#entity" title="Permalink to this headline"> üîó</a></h2>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/comparisons/{id}/</span></code></p>
<p>A Shoji Entity with the following ‚Äúbody‚Äù attributes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="41%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>bases</td>
<td>array of cube input objects</td>
<td>one for each analysis to which the
comparison applies</td>
</tr>
<tr class="row-even"><td>overlay</td>
<td>cube</td>
<td>input object defining the
comparison data</td>
</tr>
</tbody>
</table>
<p>See the Feature Guide for a discussion of the cube objects. POST one to
the catalog (see below) to create a new comparison. GET to retrieve the
complete Entity. PUT a new one to replace it. PATCH a subset of the
attributes as desired. DELETE to remove the comparison.</p>
<p>The Entity also includes a ‚Äúcube‚Äù link in its ‚Äúcatalogs‚Äù object; a GET
on this link returns the output of the overlay cube. See ‚ÄúCube‚Äù next.</p>
<div class="section" id="cube">
<h3>Cube<a class="headerlink" href="#cube" title="Permalink to this headline"> üîó</a></h3>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/comparisons/{id}/cube/</span></code></p>
<p>A GET on this endpoint returns the output of the ‚Äúoverlay‚Äù cube query
for the given comparison. The response will be a Crunch Cube with
‚Äúdimensions‚Äù and ‚Äúmeasures‚Äù members.</p>
</div>
</div>
<div class="section" id="catalog">
<h2>Catalog<a class="headerlink" href="#catalog" title="Permalink to this headline"> üîó</a></h2>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/comparisons/</span></code></p>
<p>A Shoji Catalog of comparison entities associated to the specified
dataset.</p>
<div class="section" id="get-catalog">
<h3>GET catalog<a class="headerlink" href="#get-catalog" title="Permalink to this headline"> üîó</a></h3>
<p>When authenticated and authorized to view the given dataset, GET returns
200 status with a Shoji Catalog of the dataset‚Äôs comparisons. If
authorization is lacking, response will instead be 404.</p>
<p>Catalog tuples contain the following keys:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="35%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>string</td>
<td>Human-friendly string identifier</td>
</tr>
<tr class="row-odd"><td>bases</td>
<td>array of cube objects</td>
<td>References to the dimensions and
measures for which the comparison is
valid</td>
</tr>
<tr class="row-even"><td>cube</td>
<td>URL</td>
<td>Link to generate the comparison data</td>
</tr>
</tbody>
</table>
<p>The catalog looks something like this:</p>
<div class="tabbable">
<ul class="nav nav-tabs simple">
<li class="disabled"><a class="disabled">Language-specific info:</a></li>
<li class="active"><a data-toggle="tab" href="#150179cc2d68_JSON">JSON</a></li>
</ul>
<div class="tab-content section">
<div class="tab-pane active section" id="150179cc2d68_JSON">
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;element&quot;</span><span class="p">:</span> <span class="s2">&quot;shoji:catalog&quot;</span><span class="p">,</span>
    <span class="s2">&quot;self&quot;</span><span class="p">:</span> <span class="s2">&quot;https://app.crunch.io/api/datasets/5ee0a0/comparisons/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;specification&quot;</span><span class="p">:</span> <span class="s2">&quot;https://app.crunch.io/api/specifications/comparisons/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;List of the comparisons for this dataset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;491fe3/&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;All actors&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bases&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="s2">&quot;../variables/0f7378/&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="s2">&quot;../variables/8451cb/&quot;</span><span class="p">}],</span>
                <span class="s2">&quot;measures&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="s2">&quot;cube_count&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[]}}</span>
            <span class="p">}],</span>
            <span class="s2">&quot;cube&quot;</span><span class="p">:</span> <span class="s2">&quot;491fe3/cube/&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;9942ce/&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Awareness: sector average&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bases&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="s2">&quot;../variables/bf31fc/&quot;</span><span class="p">}],</span>
                <span class="s2">&quot;measures&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="s2">&quot;cube_count&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[]}}</span>
            <span class="p">}],</span>
            <span class="s2">&quot;cube&quot;</span><span class="p">:</span> <span class="s2">&quot;9942ce/cube/&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div></div>
<div class="section" id="patch-catalog">
<h3>PATCH catalog<a class="headerlink" href="#patch-catalog" title="Permalink to this headline"> üîó</a></h3>
<p>Use PATCH to edit the ‚Äúname‚Äù and/or ‚Äúbases‚Äù of one or more comparisons.
A successful request returns a 204 response.</p>
<p>Authorization is required: you must have ‚Äúedit‚Äù privileges on the
dataset, as shown in the ‚Äúpermissions‚Äù object in the dataset‚Äôs catalog
tuple. If you try to PATCH and are not authorized, you will receive a
403 response and no changes will be made.</p>
<p>Because this catalog contains its entities rather than collecting them,
do not PATCH to add or delete comparisons. POST to the catalog to create
new comparisons, and DELETE individual comparison entities.</p>
</div>
<div class="section" id="post-catalog">
<h3>POST catalog<a class="headerlink" href="#post-catalog" title="Permalink to this headline"> üîó</a></h3>
<p>Use POST to add a new comparison entity to the catalog. A 201 indicates
success and includes the URL of the newly-created comparison in the
Location header.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Crunch.io.<br/>
      Last updated on Apr 17, 2018.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>