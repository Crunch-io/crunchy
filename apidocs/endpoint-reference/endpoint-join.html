<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Joins &#8212; API Docs 0.4.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/crunch.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/crunch.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Multitables" href="endpoint-multitable.html" />
    <link rel="prev" title="Geodata" href="endpoint-geodata.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/logo.svg"></span>
          API Docs</a>
        <span class="navbar-text navbar-version pull-left"><b>0.4.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            

    <li><a href="http://status.crunch.io/">Status</a></li>


            
              
                
  <li>
    <a href="endpoint-geodata.html" title="Previous Chapter: Geodata"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Geodata</span>
    </a>
  </li>
  <li>
    <a href="endpoint-multitable.html" title="Next Chapter: Multitables"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Multitables &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form><ul class="sidebar-toc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../feature-guide/index.html">Feature Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Endpoint Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="endpoint-public.html">Public</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-account.html">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-batch.html">Batches</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-boxdata.html">Boxdata</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-comparison.html">Comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-dataset.html">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html">Decks</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html#slides">Slides</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-deck.html#analysis">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-filter.html">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-folders.html">Variable Folders</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-geodata.html">Geodata</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Joins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#catalog">Catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entity">Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#joined-variables-catalog">Joined variables catalog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-multitable.html">Multitables</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-permission.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-progress.html">Progress</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-projects.html">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-search.html">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-source.html">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-tabbook.html">Tab books</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-table.html">Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-team.html">Teams</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-user.html">Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-variable.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-version.html">Versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../object-reference/object-reference.html">Object Reference</a></li>
</ul>
</ul><ul class="toc-footer">
  <li><a href="http://crunch.io/">Sign Up</a></li>
</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="joins">
<h1>Joins<a class="headerlink" href="#joins" title="Permalink to this headline"> üîó</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Joins are an experimental feature. Beware when using it, and expect
significant future changes. To instead add a snapshot of columns to a
dataset, see the ‚ÄúExtend‚Äù feature guide. This feature is more stable
than the dynamic join described here.</p>
</div>
<div class="section" id="catalog">
<h2>Catalog<a class="headerlink" href="#catalog" title="Permalink to this headline"> üîó</a></h2>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/joins/</span></code></p>
<p>A GET on this resource returns a Shoji Catalog enumerating the joins
present in the Dataset. Each tuple in the index includes a ‚Äúleft_key‚Äù
and a ‚Äúright_key‚Äù member, each of which MUST be a variable URI. The
left_key MUST be a variable in the current dataset, and the right_key
SHOULD be a variable in another dataset. Both variables MUST be unique,
and should be values taken from the same domain. For example, you might
have a principal dataset which is a survey, with a respondent_id
variable as a unique key. If you join a separate demographic dataset
that has a unique column of the same respondent ids, you might see:</p>
<div class="tabbable">
<ul class="nav nav-tabs simple">
<li class="disabled"><a class="disabled">Language-specific info:</a></li>
<li class="active"><a data-toggle="tab" href="#14e88089efd0_JSON">JSON</a></li>
</ul>
<div class="tab-content section">
<div class="tab-pane active section" id="14e88089efd0_JSON">
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;element&quot;</span><span class="p">:</span> <span class="s2">&quot;shoji:catalog&quot;</span><span class="p">,</span>
    <span class="s2">&quot;self&quot;</span><span class="p">:</span> <span class="s2">&quot;https://app.crunch.io/api/datasets/837498a/joins/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;https://app.crunch.io/api/datasets/837498a/joins/demo/&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;left_key&quot;</span><span class="p">:</span> <span class="s2">&quot;https://app.crunch.io/api/datasets/837498a/variables/1ef71d/&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right_key&quot;</span><span class="p">:</span> <span class="s2">&quot;https://app.crunch.io/api/datasets/de3095/variables/19471d/&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div><p>A PATCH to this resource may add joins (by including new index members),
alter existing joins (by replacing existing index members), or deleting
joins (by setting existing members to null). A 204 indicates success. As
with any Shoji Catalog, the URI of each entity in the index is the key.</p>
<p>Variables in joined datasets may then be used in analyses as if they
were part of the principal dataset, simply by using their URI in this
join‚Äôs variables catalog (see below). The joined dataset includes one
row for each row in the principal dataset, by taking the key in the
principal and looking up the corresponding key and row in the
subordinate dataset. Rows in the principal which have no corresponding
row in the subordinate are filled with the ‚ÄúNo Data‚Äù missing value.</p>
<p>In order to create or alter a new join, the authenticated user will need
to have reading access to the right dataset otherwise the server will
respond with a 400 error.</p>
<p>The variable url sent for the left key must be a valid url for the
current dataset. It is not allowed to use a different dataset as a left
table.</p>
</div>
<div class="section" id="entity">
<h2>Entity<a class="headerlink" href="#entity" title="Permalink to this headline"> üîó</a></h2>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/joins/{id}/</span></code></p>
<p>A GET on this resource returns a Shoji Entity describing the join, and a
link to its Crunch Table (see next). Currently, the Join entity only
contains the batch_id for its frame, and therefore isn‚Äôt very useful
for clients. The entity resource is not editable; PATCH the joins
catalog instead.</p>
</div>
<div class="section" id="joined-variables-catalog">
<h2>Joined variables catalog<a class="headerlink" href="#joined-variables-catalog" title="Permalink to this headline"> üîó</a></h2>
<p><code class="docutils literal"><span class="pre">/datasets/{id}/joins/{id}/variables/</span></code></p>
<p>A variables catalog which describes variables in the subordinate
dataset. See <a class="reference internal" href="endpoint-variable.html"><span class="doc">Variables</span></a> for more
details.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Crunch.io.<br/>
      Last updated on Jun 05, 2018.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>