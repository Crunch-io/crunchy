define(["jquery","components/dropdown"],function(e){var t=("ontouchstart"in window||"onmsgesturechange"in window?!0:!1,e.mobile?"vclick":"click");e.widget("cbsnews.moreDropdown",e.fly.base,{options:{classSelected:"selected",event:"click",selectorTrigger:'[data-item="trigger"]'},$element:null,$trigger:null,enterTimeout:null,leaveTimeout:null,_create:function(){var e=this.options;this._setup(),this.$element=this.$element,this.$trigger=this.$element.find(e.selectorTrigger).first(),this._on(this.$element,{mouseenter:"_handleMouseEnter",mouseleave:"_handleMouseLeave"})},_handleMouseEnter:function(e){var t=this;clearTimeout(this.leaveTimeout),this.enterTimeout=setTimeout(function(){t.show()},50)},_handleMouseLeave:function(e){var t=this;clearTimeout(this.enterTimeout),this.leaveTimeout=setTimeout(function(){t.hide()},150)},_handleDocClick:function(e){this.hide()},show:function(){var e=this,i=this.options,n={};this.$element.addClass(i.classSelected),setTimeout(function(){n[t]="_handleDocClick",e._on(e.$document,n)},1),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger})},hide:function(){var e=this.options;this.$element.removeClass(e.classSelected),this._off(this.$document,t),this._trigger("hidden",null,{$element:this.$element,$trigger:this.$trigger})}})});