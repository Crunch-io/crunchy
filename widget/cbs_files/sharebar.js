define(["jquery","version!fly/managers/debug","pkg.utils","version!fly/components/base"],function(t,e,i){e.init("sharebar");t.widget("fly.sharebar",t.fly.base,{options:{selectors:{trigger:"[data-dropdown-toggle]",dropdowns:'[data-dropdown-el="content"]'}},_create:function(){var e=this.options;this._setup(),this.container=t(this.$element),this.$trigger=this.$element.find(e.selectors.trigger),this.show()},show:function(){var e=this,i=e.options;this.$trigger.hover(function(){t(this).find(i.selectors.dropdowns).show()},function(){t(this).find(i.selectors.dropdowns).delay(500).hide()}),this.$element.on("click",'a[data-button="popup"]',this.nativeSharePopup)},nativeSharePopup:function(e){e.preventDefault();var i=t(this),n=i.data("width")||520,o=i.data("height")||350,s=screen.height/2-o/2,r=screen.width/2-n/2;window.open(i.attr("href"),"sharer","top="+s+",left="+r+",toolbar=0,status=0,width="+n+",height="+o)},_destroy:function(){this.container.hide()}})});